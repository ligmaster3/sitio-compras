<!DOCTYPE html>

<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
    integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
    crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/ae360af17e.js" crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="js/script.js" async></script>
  <script src="js/menu.js" async></script>
  <title>Tienda de Online |</title>
</head>


<body>
  <header id="header">
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
        <div class="logo"><a class="navbar-brand" href="#">
            <img src="" alt="Logo" width="30" height="24" class="d-inline-block align-text-top">
            Bootstrap
          </a></div>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
          aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav">
            <li class="nav-item">
              <div class="logo"><a href="index.html"><i class="fa-solid fa-arrow-left"></i>Volver al Inicio</a></div>
            </li>
          </ul>
        </div>

      </div>
    </nav>
  </header>

  <section class="cart-conteiner conteiner">
    <h2 class="cart-title">Shopping Cart</h2>
    <div class="sub-">
      <ul class="nav ">
        <li class="nav-item">
          <p class="nav-link">Articulo</p>
        </li>
        <li class="nav-item">
          <p class="nav-link" style="color: transparent;">texto</p>
        </li>
        <li class="nav-item">
          <p class="nav-link">Precio</p>
        </li>
        <li class="nav-item">
          <p class="nav-link"></p>
        </li>
      </ul>
    </div>
    <!--  -->
    <div class="shop-content" id="shopItems">
      <!-- js -->
      <!-- <div class="shop-box">
        <img class="shop-img"
          src=""
          alt="product-cart-shop">
        <div class="detail-box">
          <div class="shop-product"></div>
          <div class="shop-price">$</div>
          Cantidad  
          <input type="number" value="1" placeholder="1" class="cart-quantity" data-id="">
        </div>
        <i class="fa-solid fa-trash cart-remove" data-id=""></i>
      </div> -->
      <!-- -->
    </div>
    <div class="summary">
      <h2>Resumen</h2>
      <div class="flex justify-between mb-1">
          <span>Subtotal</span>
          <span>$</span>
      </div>
      <div class="flex justify-between mb-1">
          <span>Envío</span>
          <span>Calculado en el pago</span>
      </div>
      <div class="flex justify-between mb-1">
          <span>ITBMS</span>
          <span>$</span>
      </div>
      <div class="total">
          <span>Total</span>
          <span>$</span>
      </div>
  </div>
  <button class="pagocheck-btn">PROCEEDER AL PAGO</button>
</div>

  </section>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const cartItems = document.querySelectorAll(".shop-box");
      const subtotalElement = document.querySelector(".summary .flex:nth-child(2) span:last-child");
      const itbmsElement = document.querySelector(".summary .flex:nth-child(3) span:last-child");
      const totalElement = document.querySelector(".summary .total span:last-child");
      const proceedButton = document.querySelector(".pagocheck-btn");
  
      // Función para calcular el subtotal
      function calculateSubtotal() {
        let subtotal = 0;
        cartItems.forEach(item => {
          const price = parseFloat(item.querySelector(".shop-price").innerText.slice(1)); // Extrae el precio y elimina el signo "$"
          const quantity = parseInt(item.querySelector(".cart-quantity").value);
          subtotal += price * quantity;
        });
        return subtotal;
      }
  
      // Función para calcular el ITBMS (Impuesto sobre la Transferencia de Bienes Muebles y Servicios)
      function calculateITBMS(subtotal) {
        const itbmsRate = 0.07; // Tasa de ITBMS (7%)
        return subtotal * itbmsRate;
      }
  
      // Función para actualizar los valores del resumen
      function updateSummary() {
        const subtotal = calculateSubtotal();
        const itbms = calculateITBMS(subtotal);
        const total = subtotal + itbms;
  
        subtotalElement.textContent = subtotal.toFixed(2); // Limita el subtotal a 2 decimales
        itbmsElement.textContent = itbms.toFixed(2); // Limita el ITBMS a 2 decimales
        totalElement.textContent = total.toFixed(2); // Limita el total a 2 decimales
      }
  
      // Evento para actualizar el resumen cuando cambia la cantidad de un artículo en el carrito
      cartItems.forEach(item => {
        const quantityInput = item.querySelector(".cart-quantity");
        quantityInput.addEventListener("change", updateSummary);
      });
  
      // Evento para actualizar el resumen cuando se elimina un artículo del carrito
      const removeButtons = document.querySelectorAll(".cart-remove");
      removeButtons.forEach(button => {
        button.addEventListener("click", function() {
          button.parentElement.remove();
          updateSummary();
        });
      });
  
      // Evento para proceder al pago
      proceedButton.addEventListener("click", function() {
        // Aquí puedes agregar la lógica para proceder al pago
        alert("Proceder al pago...");
      });
  
      // Calcula el resumen inicial al cargar la página
      updateSummary();
    });
  </script>
  

</body>

</html>